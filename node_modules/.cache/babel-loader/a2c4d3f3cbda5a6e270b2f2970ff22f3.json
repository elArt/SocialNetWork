{"ast":null,"code":"var _jsxFileName = \"/home/artst/Public/Way of samuray/src/components/Users/Users.jsx\";\nimport React from \"react\";\nimport styles from \"./users.module.css\";\nimport Preloader from \"../common/preloader/preloader\";\nimport { NavLink } from \"react-router-dom\";\nimport * as axios from \"axios\";\n\nvar Users = function Users(props) {\n  var pagesArray = [];\n  var quantityPages = Math.ceil(props.totalUsersCount / props.pageSize);\n\n  for (var x = 1; x < quantityPages; x++) {\n    pagesArray.push(x);\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14\n    },\n    __self: this\n  }, props.isFetchingValue && React.createElement(Preloader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, pagesArray.map(function (p) {\n    return React.createElement(\"span\", {\n      className: props.currentPage === p ? styles.selectPage : styles.page,\n      onClick: function onClick() {\n        props.changePage(p);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19\n      },\n      __self: this\n    }, p);\n  })), props.users.map(function (u) {\n    return React.createElement(\"div\", {\n      key: u.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      to: \"/profile/\" + u.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      alt: \"userPhoto\",\n      src: u.photos.small ? u.photos.small : \"https://i.pinimg.com/originals/45/bc/2e/45bc2e15216ccebb108abcb7757e6aed.jpg\",\n      className: styles.userPhoto,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, u.followed ? React.createElement(\"button\", {\n      disabled: props.flollowingInProgres.some(function (id) {\n        return id === u.id;\n      }),\n      onClick: function onClick() {\n        console.log(props.flollowingInProgres);\n        props.toggleFollowingProgress(true, u.id);\n        axios.delete(\"https://social-network.samuraijs.com/api/1.0/follow/\".concat(u.id), {\n          withCredentials: true,\n          headers: {\n            \"API-KEY\": \"429f939d-8fa1-438e-8274-239346207e7e\"\n          }\n        }).then(function (response) {\n          console.log(props.flollowingInProgres);\n\n          if (response.data.resultCode === 0) {\n            props.unfollow(u.id);\n          }\n\n          props.toggleFollowingProgress(false, u.id);\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"unFollow\") : React.createElement(\"button\", {\n      disabled: props.flollowingInProgres.some(function (id) {\n        return id === u.id;\n      }),\n      onClick: function onClick() {\n        props.toggleFollowingProgress(true, u.id);\n        axios.post(\"https://social-network.samuraijs.com/api/1.0/follow/\".concat(u.id), {}, {\n          withCredentials: true,\n          headers: {\n            \"API-KEY\": \"429f939d-8fa1-438e-8274-239346207e7e\"\n          }\n        }).then(function (response) {\n          if (response.data.resultCode === 0) {\n            props.follow(u.id);\n          }\n\n          props.toggleFollowingProgress(false, u.id);\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Follow\"))), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, u.name), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, u.status)), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"u.location.country\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"u.location.city\")));\n  }));\n};\n\nexport default Users;","map":{"version":3,"sources":["/home/artst/Public/Way of samuray/src/components/Users/Users.jsx"],"names":["React","styles","Preloader","NavLink","axios","Users","props","pagesArray","quantityPages","Math","ceil","totalUsersCount","pageSize","x","push","isFetchingValue","map","p","currentPage","selectPage","page","changePage","users","u","id","photos","small","userPhoto","followed","flollowingInProgres","some","console","log","toggleFollowingProgress","delete","withCredentials","headers","then","response","data","resultCode","unfollow","post","follow","name","status"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport styles from \"./users.module.css\";\nimport Preloader from \"../common/preloader/preloader\";\nimport { NavLink } from \"react-router-dom\";\nimport * as axios from \"axios\";\n\nconst Users = (props) => {\n  const pagesArray = [];\n  const quantityPages = Math.ceil(props.totalUsersCount / props.pageSize);\n  for (let x = 1; x < quantityPages; x++) {\n    pagesArray.push(x);\n  }\n  return (\n    <div>\n      {props.isFetchingValue && <Preloader />}\n      <div>\n        {pagesArray.map((p) => {\n          return (\n            <span\n              className={\n                props.currentPage === p ? styles.selectPage : styles.page\n              }\n              onClick={() => {\n                props.changePage(p);\n              }}\n            >\n              {p}\n            </span>\n          );\n        })}\n      </div>\n      {props.users.map((u) => (\n        <div key={u.id}>\n          <span>\n            <div>\n              <NavLink to={\"/profile/\" + u.id}>\n                <img alt='userPhoto'\n                  src={\n                    u.photos.small\n                      ? u.photos.small\n                      : \"https://i.pinimg.com/originals/45/bc/2e/45bc2e15216ccebb108abcb7757e6aed.jpg\"\n                  }\n                  className={styles.userPhoto}\n                />\n              </NavLink>\n            </div>\n            <div>\n              {u.followed ? (\n                <button disabled = {props.flollowingInProgres.some(id=>id===u.id)}\n                  onClick={() => {\n                    console.log(props.flollowingInProgres);\n                    \n                    props.toggleFollowingProgress(true,  u.id);\n                    axios.delete(`https://social-network.samuraijs.com/api/1.0/follow/${u.id}`, {\n                      withCredentials: true,\n                      headers: {\n                          \"API-KEY\": \"429f939d-8fa1-438e-8274-239346207e7e\"\n                      }\n                  })\n                      .then(response => {\n                    console.log(props.flollowingInProgres);\n\n                          if (response.data.resultCode === 0) {\n                              props.unfollow(u.id);\n                          }\n\n                          props.toggleFollowingProgress(false, u.id);\n                      });\n                  }}\n                >\n                  unFollow\n                </button>\n              ) : (\n                <button disabled = {props.flollowingInProgres.some(id=>id===u.id)}\n                  onClick={() => {      \n                        props.toggleFollowingProgress(true,  u.id);\n                    axios.post(`https://social-network.samuraijs.com/api/1.0/follow/${u.id}`, {}, {\n                      withCredentials: true,\n                      headers: {\n                          \"API-KEY\": \"429f939d-8fa1-438e-8274-239346207e7e\"\n                      }\n                  })\n                      .then(response => {\n                          if (response.data.resultCode === 0) {\n                              props.follow(u.id);\n                          }\n                          props.toggleFollowingProgress(false, u.id);\n                      });\n                  }}\n                >\n                  Follow\n                </button>\n              )}\n            </div>\n          </span>\n          <span>\n            <div>{u.name}</div>\n            <div>{u.status}</div>\n          </span>\n          <span>\n            <div>{\"u.location.country\"}</div>\n            <div>{\"u.location.city\"}</div>\n          </span>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default Users;\n"]},"metadata":{},"sourceType":"module"}