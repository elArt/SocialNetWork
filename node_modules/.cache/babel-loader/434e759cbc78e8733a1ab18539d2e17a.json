{"ast":null,"code":"import _toConsumableArray from \"/home/artst/Public/Way of samuray/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/home/artst/Public/Way of samuray/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { usersAPI } from \"../api/api\";\nvar ADD_POST = \"ADD-POST\";\nvar UPDATE_NEW_POST_TEXT = \"UPDATE-NEW-POST-TEXT\";\nvar SET_USER_PROFILE = \"SET-USER-PROFILE\";\nvar initialState = {\n  posts: [{\n    id: 1,\n    message: \"Hi, how are you?\",\n    likesCount: 12\n  }, {\n    id: 2,\n    message: \"It's my first post\",\n    likesCount: 11\n  }, {\n    id: 3,\n    message: \"Blabla\",\n    likesCount: 11\n  }, {\n    id: 4,\n    message: \"Dada\",\n    likesCount: 11\n  }],\n  newPostText: \"\",\n  profile: null\n};\n\nvar profileReducer = function profileReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_POST:\n      {\n        return _objectSpread({}, state, {\n          posts: _toConsumableArray(state.posts).concat([{\n            id: Date.now(),\n            message: state.newPostText,\n            likesCount: 0\n          }]),\n          newPostText: ''\n        });\n      }\n      ;\n\n    case UPDATE_NEW_POST_TEXT:\n      {\n        return _objectSpread({}, state, {\n          newPostText: action.newText\n        });\n      }\n      ;\n\n    case SET_USER_PROFILE:\n      {\n        return _objectSpread({}, state, {\n          profile: action.profile\n        });\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport var addNewPost = function addNewPost() {\n  return {\n    type: ADD_POST\n  };\n};\nexport var setUserProfile = function setUserProfile(profile) {\n  return {\n    type: SET_USER_PROFILE,\n    profile: profile\n  };\n};\nexport var changeInput = function changeInput(text) {\n  return {\n    type: UPDATE_NEW_POST_TEXT,\n    newText: text\n  };\n};\nexport var getUserProfile = function getUserProfile(userId) {\n  return function (dispatch) {\n    usersAPI.getUserProfile.then(function (response) {\n      dispatch(setUserProfile(response.data));\n    });\n  };\n};\nexport default profileReducer;","map":{"version":3,"sources":["/home/artst/Public/Way of samuray/src/redux/profile-reducer.js"],"names":["usersAPI","ADD_POST","UPDATE_NEW_POST_TEXT","SET_USER_PROFILE","initialState","posts","id","message","likesCount","newPostText","profile","profileReducer","state","action","type","Date","now","newText","addNewPost","setUserProfile","changeInput","text","getUserProfile","userId","dispatch","then","response","data"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,YAAzB;AAEA,IAAMC,QAAQ,GAAG,UAAjB;AACA,IAAMC,oBAAoB,GAAG,sBAA7B;AACA,IAAMC,gBAAgB,GAAG,kBAAzB;AAEA,IAAMC,YAAY,GAAG;AACnBC,EAAAA,KAAK,EAAE,CACL;AAAEC,IAAAA,EAAE,EAAE,CAAN;AAASC,IAAAA,OAAO,EAAE,kBAAlB;AAAsCC,IAAAA,UAAU,EAAE;AAAlD,GADK,EAEL;AAAEF,IAAAA,EAAE,EAAE,CAAN;AAASC,IAAAA,OAAO,EAAE,oBAAlB;AAAwCC,IAAAA,UAAU,EAAE;AAApD,GAFK,EAGL;AAAEF,IAAAA,EAAE,EAAE,CAAN;AAASC,IAAAA,OAAO,EAAE,QAAlB;AAA4BC,IAAAA,UAAU,EAAE;AAAxC,GAHK,EAIL;AAAEF,IAAAA,EAAE,EAAE,CAAN;AAASC,IAAAA,OAAO,EAAE,MAAlB;AAA0BC,IAAAA,UAAU,EAAE;AAAtC,GAJK,CADY;AAOnBC,EAAAA,WAAW,EAAE,EAPM;AAQnBC,EAAAA,OAAO,EAAE;AARU,CAArB;;AAWA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAkC;AAAA,MAAjCC,KAAiC,uEAAzBR,YAAyB;AAAA,MAAXS,MAAW;;AACvD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKb,QAAL;AAAc;AACZ,iCACKW,KADL;AAEEP,UAAAA,KAAK,qBAAMO,KAAK,CAACP,KAAZ,UAAmB;AACpBC,YAAAA,EAAE,EAAES,IAAI,CAACC,GAAL,EADgB;AAEpBT,YAAAA,OAAO,EAAEK,KAAK,CAACH,WAFK;AAGpBD,YAAAA,UAAU,EAAE;AAHQ,WAAnB,EAFP;AAQEC,UAAAA,WAAW,EAAE;AARf;AAUD;AAAA;;AACD,SAAKP,oBAAL;AAA0B;AACxB,iCAAWU,KAAX;AAAkBH,UAAAA,WAAW,EAAEI,MAAM,CAACI;AAAtC;AACD;AAAA;;AACD,SAAKd,gBAAL;AAAsB;AACpB,iCAAWS,KAAX;AAAkBF,UAAAA,OAAO,EAAEG,MAAM,CAACH;AAAlC;AACD;;AACD;AACE,aAAOE,KAAP;AApBJ;AAsBD,CAvBD;;AAyBA,OAAO,IAAMM,UAAU,GAAG,SAAbA,UAAa;AAAA,SAAO;AAAEJ,IAAAA,IAAI,EAAEb;AAAR,GAAP;AAAA,CAAnB;AACP,OAAO,IAAMkB,cAAc,GAAG,SAAjBA,cAAiB,CAACT,OAAD;AAAA,SAAc;AAACI,IAAAA,IAAI,EAAEX,gBAAP;AAAyBO,IAAAA,OAAO,EAAPA;AAAzB,GAAd;AAAA,CAAvB;AACP,OAAO,IAAMU,WAAW,GAAG,SAAdA,WAAc,CAAAC,IAAI;AAAA,SAAK;AAClCP,IAAAA,IAAI,EAAEZ,oBAD4B;AAElCe,IAAAA,OAAO,EAAEI;AAFyB,GAAL;AAAA,CAAxB;AAKP,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,MAAD,EAAY;AACxC,SAAO,UAACC,QAAD,EAAc;AACjBxB,IAAAA,QAAQ,CAACsB,cAAT,CAAwBG,IAAxB,CAA6B,UAACC,QAAD,EAAc;AACzCF,MAAAA,QAAQ,CAACL,cAAc,CAACO,QAAQ,CAACC,IAAV,CAAf,CAAR;AACD,KAFD;AAGH,GAJD;AAKD,CANM;AAQP,eAAehB,cAAf","sourcesContent":["import { usersAPI } from \"../api/api\";\n\nconst ADD_POST = \"ADD-POST\";\nconst UPDATE_NEW_POST_TEXT = \"UPDATE-NEW-POST-TEXT\";\nconst SET_USER_PROFILE = \"SET-USER-PROFILE\"\n\nconst initialState = {\n  posts: [\n    { id: 1, message: \"Hi, how are you?\", likesCount: 12 },\n    { id: 2, message: \"It's my first post\", likesCount: 11 },\n    { id: 3, message: \"Blabla\", likesCount: 11 },\n    { id: 4, message: \"Dada\", likesCount: 11 }\n  ],\n  newPostText: \"\",\n  profile: null\n};\n\nconst profileReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_POST:{\n      return {\n        ...state,\n        posts: [...state.posts, {\n            id: Date.now(),\n            message: state.newPostText,\n            likesCount: 0\n            }\n          ],\n        newPostText: '',\n      };\n    };\n    case UPDATE_NEW_POST_TEXT:{\n      return {...state, newPostText: action.newText};\n    };\n    case SET_USER_PROFILE:{\n      return {...state, profile: action.profile}\n    }\n    default:\n      return state;\n  }\n};\n\nexport const addNewPost = () => ({ type: ADD_POST });\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\nexport const changeInput = text => ({\n  type: UPDATE_NEW_POST_TEXT,\n  newText: text\n});\n\nexport const getUserProfile = (userId) => {\n  return (dispatch) => {\n      usersAPI.getUserProfile.then((response) => {\n        dispatch(setUserProfile(response.data));\n      });\n  }\n}\n\nexport default profileReducer;\n"]},"metadata":{},"sourceType":"module"}